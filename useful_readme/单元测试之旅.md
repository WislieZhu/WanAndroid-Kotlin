## JUnit介绍

主要的作用就是断言
Assert
assertEquals		   断言传入的预期值与实际值是相等的
assertNotEquals    断言传入的预期值与实际值是不相等的
assertArrayEquals 断言传入的预期数组与实际数组是相等的
assertNull               断言传入的对象是为空
assertNotNull        断言传入的对象是不为空
assertTrue             断言条件为真
assertFalse            断言条件为假
assertSame           断言两个对象引用同一个对象，相当于“==”
assertNotSame    断言两个对象引用不同的对象，相当于“!=”
assertThat             断言实际值是否满足指定的条件



**参数化单元测试**

**方式一:使用junit**

```groovy
testImplementation 'junit:junit:4.13.2'
```

test文件夹:

```kotlin
@RunWith(Parameterized::class)
class DateFormatTest(private val time:String) {
    companion object {
        @JvmStatic
        @Parameterized.Parameters
        fun primeNumbers(): Collection<String> {
            return arrayListOf(
                "2023-03-12",
                "2023-03-12 16:16:28",
                "2023年3月12日 16时16分28秒"
            )
        }
    }
    @Test
    fun dataToStampTest(){
        DateUtil.dateToStamp(time)
    }
}
```



打印结果

错误 dataToStampTest[0]

正确 dataToStampTest[1]

错误  dataToStampTest[2]

方式二:使用JUnitParams

```groovy
testImplementation "pl.pragmatists:JUnitParams:1.1.1"
```

```groovy
@RunWith(JUnitParamsRunner::class)
class EmailFormatTest {
    @Test
    @Parameters(value = [
        "mary@testdomain.com, true",
        "mary.smith@testdomain.com, true",
        "mary_smith123@testdomain.com, true",
        "mary@testdomaindotcom, false",
        "mary-smith@testdomain, false",
        "testdomain.com, false"
    ])
    fun testIsValidEmailId(email: String, expected: Boolean) {
        val actual = email.contains("@") and email.endsWith(".com")
        assertEquals(expected, actual)
    }

}
```



**常用的匹配器整理**

匹配器	说明	例子
is	断言参数等于后面给出的匹配表达式	assertThat(5, is (5));
not	断言参数不等于后面给出的匹配表达式	assertThat(5, not(6));
equalTo	断言参数相等	assertThat(30, equalTo(30));
equalToIgnoringCase	断言字符串相等忽略大小写	assertThat(“Ab”, equalToIgnoringCase(“ab”));
containsString	断言字符串包含某字符串	assertThat(“abc”, containsString(“bc”));
startsWith	断言字符串以某字符串开始	assertThat(“abc”, startsWith(“a”));
endsWith	断言字符串以某字符串结束	assertThat(“abc”, endsWith(“c”));
nullValue	断言参数的值为null	assertThat(null, nullValue());
notNullValue	断言参数的值不为null	assertThat(“abc”, notNullValue());
greaterThan	断言参数大于	assertThat(4, greaterThan(3));
lessThan	断言参数小于	assertThat(4, lessThan(6));
greaterThanOrEqualTo	断言参数大于等于	assertThat(4, greaterThanOrEqualTo(3));
lessThanOrEqualTo	断言参数小于等于	assertThat(4, lessThanOrEqualTo(6));
closeTo	断言浮点型数在某一范围内	assertThat(4.0, closeTo(2.6, 4.3));
allOf	断言符合所有条件，相当于&&	assertThat(4,allOf(greaterThan(3), lessThan(6)));
anyOf	断言符合某一条件，相当于或	assertThat(4,anyOf(greaterThan(9), lessThan(6)));
hasKey	断言Map集合含有此键	assertThat(map, hasKey(“key”));
hasValue	断言Map集合含有此值	assertThat(map, hasValue(value));
hasItem	断言迭代对象含有此元素	assertThat(list, hasItem(element));

## mockk

**模拟**对象，替换我们原先依赖的真实对象，这样我们就可以避免外部的影响，只测试本类，得到更准确的结果

普通方法:

注解方法:

MockKRule:



